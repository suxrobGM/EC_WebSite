@model ForumsViewModel
@{
    ViewData["Title"] = "Forum";    
}
<head>
    <style>       
        .forum_body {
            margin: auto;
            background-color: azure;
        }
        .forum_sketch {
            background-color: black;
            color: azure;
            border: dashed;
            border-color: black
        }
        .forum_search_panel {
            background-color: #454242;
            margin: auto;
        }
        .forum_category {
            background-color: seagreen;
            color: azure;
            font: bolder;
        }
        .table_thread {
            color: black;
            border: solid black;           
        }
    </style>
</head>


<div class="forum_sketch">
    <div class="row">
        <div class="col-sm-4">
            <h3 class="h3">Official Forums</h3>
        </div>
        <div class="col-sm-8" style="text-align:right; margin-top: 15px">
            <a style="margin-top: 10px" class="glyphicon glyphicon-plus-sign" asp-action="CreateForum"></a>
            <a style="margin-top: 10px" class="glyphicon glyphicon-wrench"></a>
        </div>
    </div>
    
    <div class="forum_body">
        <div class="row forum_search_panel">
            <div class="col-sm-4">
                @Html.TextBox("Search", Model.SearchText, "", new { placeholder = "Search", style = "color: black" })
                <button class="btn" style="margin:10px; color:black" asp-area="" asp-controller="Forums" asp-action="SearchForum">
                    Search
                </button>
            </div>
        </div>
        <table id="tableforum" class="table">
            <thead class="table_thread">
                <tr>
                    <th>
                        <strong>Board</strong>
                    </th>
                    <th>
                        <strong>Lattest Posts</strong>
                    </th>
                    <th>
                        <strong>Topics</strong>
                    </th>
                    <th>
                        <strong>Posts</strong>
                    </th>
                    <th>
                        <strong>+Fav</strong>
                    </th>
                </tr>
            </thead>
            @foreach (var forumHeader in Model.ForumHeaders)
            {
                <tbody>
                    <tr class="forum_category">
                        <td colspan="6">
                            <div class="row">
                                <div class="col-sm-4">
                                    <strong>@forumHeader.Name</strong>
                                </div>
                                <div class="col-sm-8" style="text-align:right">
                                    <a style="color:black; margin-top: 10px" class="glyphicon glyphicon-plus-sign" asp-action="CreateBoard" asp-route-forumHeaderId="@forumHeader.Id"></a>
                                    <a style="color:black; margin-top: 10px" class="glyphicon glyphicon-minus-sign"></a>
                                </div>
                            </div>                          
                        </td>                   
                    </tr>
                    <tr class="forum_subcategory" style="color: black">
                        @foreach (var board in forumHeader.Boards)
                        {
                            <td>
                                <a style="color: saddlebrown" href="#">@board.Name</a>
                            </td>
                            <td>
                                <a href="#">@board.Threads.LastOrDefault()</a>
                            </td>
                            <td>
                                <label>@board.Threads.Count()</label>
                            </td>
                            <td>
                                <label>@board.Threads.Select(i => i.Posts).Count()</label>
                            </td>
                            <td>
                                <input type="button" name="addFavority" value="+" />
                            </td>
                        }
                    </tr>
                </tbody>
            }
        </table>
        
    </div>
</div>    


